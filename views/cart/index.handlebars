<header class="page-header col-xs-12">
  <h1>Shopping Cart</h1>
</header>

{{#if cartProducts}}
<h2 class="col-xs-12">Products</h2>
{{#each cartProducts as |product| }}
<div class="col-sm-6 col-md-4 col-lg-3">
  <article class="panel panel-default">
    <header class="panel-heading">
      <a href="{{ productPath product.id }}">
        <h3 class="panel-title">
          {{ product.name }}
        </h3>
      </a>
    </header>
    <section class="panel-body">
      <p>Category: <a href="{{ categoryPath product.Category.id }}">{{ product.Category.name }}</a></p>
      <form method="post" class="form-inline" action="{{ editCartPath product.id }}">
        <input type="hidden" name="_method" value="put">
        <section class="form-group">
          <label for="count">{{ product.prettyPrice }}</label>
          <input type="number" step="1" min="0" max="99" value="{{ product.count }}" class="form-control" name="count">
        </section>
        <input type="submit" class="btn btn-primary" value="Update">
        <a href="{{ destroyCartPath product.id }}" class="btn btn-danger">Remove</a>
      </form>
    </section>
  </article>
</div>
{{/each }}
<footer class="col-xs-12">
  <h3>Total: {{ cartTotal }}</h3>
  <a class="btn btn-danger" href="{{ destroyCartsPath }}">Empty Cart</a>
  <a class="btn btn-success" href="{{ checkoutPath }}">Check Out</a>
</footer>
{{else }}
<p class="text-info">You have no products in your cart...</p>
{{/if}}
