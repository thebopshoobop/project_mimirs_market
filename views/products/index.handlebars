<header class="page-header">
  <h1>Products</h1>
</header>

<form class="form-inline" action="{{ productsPath }}">
  <section class="form-group">
    <select name="category" id="category" class="form-control">
      <option value="all">Category</option>
      {{#each categories as |category|}}
      <option value="{{ category.id }}" {{#if category.selected }}selected{{/if}}>{{ category.name }}</option>
      {{/each}}
    </select>
  </section>
  <section class="form-group">
    <select name="min" id="category" class="form-control">
      <option value="">Minimum</option>
      {{#each range as |price|}}
      <option value="{{ price.value }}" {{#if price.min }}selected{{/if}}>{{ price.pretty }}</option>
      {{/each}}
    </select>
  </section>
  <section class="form-group">
    <select name="max" id="category" class="form-control">
      <option value="">Maximum</option>
      {{#each range as |price|}}
      <option value="{{ price.value }}" {{#if price.max }}selected{{/if}}>{{ price.pretty }}</option>
      {{/each}}
    </select>
  </section>
  <section class="form-group">
    <select name="sort" id="category" class="form-control">
      <option value="">Sort</option>
      {{#each sorts as |sort|}}
      <option value="{{ sort.value }}" {{#if sort.selected }}selected{{/if}}>{{ sort.name }}</option>
      {{/each}}
    </select>
  </section>
  </section>
  <button class="btn btn-info">Filter</button>
  <a href="{{ productsPath }}" class="btn btn-default">Reset</a>
</form>

<hr> {{#if products.length }}
<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Category</th>
      <th>Price</th>
      <th>Added</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {{#each products as |product| }}
    <tr>
      <td>
        <a href="{{ productPath product.id }}">{{ product.name }}</a>
      </td>
      <td>
        <a href="{{ categoryPath product.Category.id }}">{{ product.Category.name }}</a>
      </td>
      <td>
        {{ product.prettyPrice }}
      </td>
      <td>
        {{ product.createdAt }}
      </td>
      <td>
        <a class="btn btn-primary" href="{{ addProductPath product.id }}">
            Add to Cart</a>
      </td>
    </tr>
    {{/each }}
  </tbody>
</table>
{{else }}
<p class="text-danger">No products</p>
{{/if }}
